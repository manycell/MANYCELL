package sim.mssim.action.model;

import java.io.File;

import sim.mssim.action.MSSimSupportAction;
import sim.mssim.modelmanager.ModelSubmissionManager;

public class SubmitModelAction extends MSSimSupportAction{
	private static final long serialVersionUID = 5156288255337069381L;

	private String contentType;
	private String content;	
	private String fileName;
	private String caption;
	private File sbml;
	private String filePath;	
	private String result;	
	private String modelType;
	private String cellType;

	public String getContentType() {
		return contentType;
	}

	public void setContentType(String contentType) {
		this.contentType = contentType;
	}


	public String getContent() {
		return content;
	}


	public void setContent(String content) {
		this.content = content;
	}


	public String getFileName() {
		return fileName;
	}


	public void setFileName(String fileName) {
		this.fileName = fileName;
	}


	public String getCaption() {
		return caption;
	}


	public void setCaption(String caption) {
		this.caption = caption;
	}


	public File getSbml() {
		return sbml;
	}


	public void setSbml(File sbml) {
		this.sbml = sbml;
	}


	public String getFilePath() {
		return filePath;
	}


	public void setFilePath(String filePath) {
		this.filePath = filePath;
	}
	

	public String getResult() {
		return result;
	}


	public void setResult(String result) {
		this.result = result;
	}	
	
	public String getModelType() {
		return modelType;
	}

	public void setModelType(String modelType) {
		this.modelType = modelType;
	}

	public String getCellType() {
		return cellType;
	}


	public void setCellType(String cellType) {
		this.cellType = cellType;
	}


	public String submitModel() throws Exception  {
		ModelSubmissionManager msManager = new ModelSubmissionManager(); 
		java.net.InetAddress id = java.net.InetAddress.getLocalHost();	    	
		String host = java.net.InetAddress.getLocalHost().getHostName();
		String hostName = id.getCanonicalHostName();
		
		System.out.println(getServletRequest().getRemoteUser());
		
		setResult(msManager.submitModel(getSbml(), getModelType(), getCellType()));     	  	 
		return SUCCESS;
	}	

}
